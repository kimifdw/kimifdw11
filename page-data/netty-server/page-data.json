{"componentChunkName":"component---src-templates-blog-post-js","path":"/netty-server/","result":{"data":{"site":{"siteMetadata":{"title":"FDW-blog","author":"kimifdw"}},"markdownRemark":{"id":"cdfbc258-f861-5464-93ef-85a008aca6e9","html":"<h2 id=\"channel源码\"><a href=\"#channel%E6%BA%90%E7%A0%81\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>channel源码</h2>\n<blockquote>\n<p>简介到网络套接字或IO操作的组件，如读、写、连接和绑定。类图如下：\n<img src=\"./channel%E7%BB%84%E4%BB%B6-4.1.53.png\" alt=\"image\"></p>\n</blockquote>\n<ol>\n<li><code class=\"language-text\">Unsafe</code>。数据传输</li>\n<li><code class=\"language-text\">AbstractNioChannel</code>。NIO的基本操作</li>\n<li>通过<code class=\"language-text\">pipeline</code>来进行事件操作和流转。</li>\n</ol>\n<h2 id=\"channelpipeline\"><a href=\"#channelpipeline\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ChannelPipeline</h2>\n<blockquote>\n<p>拦截器，维护ChannelHandler列表，类似于servlet和filter的关系</p>\n</blockquote>\n<h3 id=\"创建\"><a href=\"#%E5%88%9B%E5%BB%BA\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>创建</h3>\n<ul>\n<li>\n<p>每个通道都有自己的管道，它会在创建新通道时自动创建</p>\n<h3 id=\"流程图如下\"><a href=\"#%E6%B5%81%E7%A8%8B%E5%9B%BE%E5%A6%82%E4%B8%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>流程图如下</h3>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1abb8304aa0ae00b6084a0d689c787cf/61c63/channel-pipline-flow.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 117.56756756756756%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAIAAAB1KUohAAAACXBIWXMAAAsSAAALEgHS3X78AAABpUlEQVQ4y32UjW7DIAyE+/6v2WmbWkVZk0CAAN3hS1xC0t6kiAHGn3/qiw325m75mZ/vFWP0PuDb7F9SSh/MgvfjON5v99+f7+v16+/x8N6/jI/vqXLO8zwbM/V933VdLzLG7Iwh+I+bsF6WZRbBD9EUEC/q+oJ7R3K85Jx3viiLQgi0bIyLK8RmrYUrfGGAFzVV3Aetcw5PJNHOM76wIWrAP1siYkFwPPKhnOTamEGutNVBkzllOYkZPEAmNlzFyrNiM5wddlRs51bsEOIBmwG3xhLgdjWtIeRKSqvMer/EjJqADZ00DvgbV3wpMoGHAdvDNBnCvYy1zsuCehXCpufgzYm01G22tfq6rnPLjHLdZjtKkxhgoY+niYnhMRbTNHLfWoOuy+lQKvpinulePVOlPYrPfFJnctYhNEl+19vFGHkCG/JsjWmwsY9afOptbW9mu27YRcSIoDbbSst7aS/eVp+8u+swnQfbjVjPBplhXo9OhkHBDuG0SSSiQPJDneUxt0mdbK4wkmRfyNuYvYyRMnekn9HA6Gy3TQ/L3+Q8q6Ua/wMRe4gLW/fW8AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/static/1abb8304aa0ae00b6084a0d689c787cf/fcda8/channel-pipline-flow.png\"\n        srcset=\"/static/1abb8304aa0ae00b6084a0d689c787cf/12f09/channel-pipline-flow.png 148w,\n/static/1abb8304aa0ae00b6084a0d689c787cf/e4a3f/channel-pipline-flow.png 295w,\n/static/1abb8304aa0ae00b6084a0d689c787cf/fcda8/channel-pipline-flow.png 590w,\n/static/1abb8304aa0ae00b6084a0d689c787cf/61c63/channel-pipline-flow.png 693w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n<li><code class=\"language-text\">ChannelInboundHandler</code>。监控Channel状态变化，API如下图所示：\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/89e841656f970119064f16658e500f27/87254/ChannelInboundHandler-api.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 89.86486486486487%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACTElEQVQ4y62S227TQBCG/f4X0BIkXgIJmkaI0gukQkElEgXixHYSkrjx2etjEtvx6Wd2W1AEARXISJ/Hszs7+ndnpDCKwFiAOI5h2g7mCx2O6wpmszlkeYjRSIGqahgOR1DIG4YJ07RgU75F+IwJ4iSBVGQrpIEHx9Dh2wYC14LvGFjFARJat25mYs9azmHfLLCOGcpNAmYvwRxTxG2ZocxSMDor9RUd3WsVLz9oOH2n4sXVGD3yZ/2v6M9iXE1DIhBcaj7eqgxviNeyTTi4GHm4HAe4oLXrGYP0rK/j+FTBk95HPDj5jOPnn3B0QpDvdCnufsGj0wE6PRkPewo65ws8Pp8TCwGPO6/mODqb4+l7HRJQA2jRZjHS0ENA1w5JesIchHSlyLPFf+RZWNN+k6/we2sgbYotinUGjwppkwkGA1k8vCyPRCOUkQpF0aBpE2jjMUzLQVnVqJsWVd38gMdlWUHKqGBDpBGD47iwTRPL5RKmYcCybFjUTY5tWbRPqsOIDjd79W23W0j5tkS1yaljBsakUKHRkAc0KuRVRcGQK1VUUqhhOpmSahW6riNJU2RZhtVqhYIEccvzHFJV12io6CaNaZZ8MJ8JJa7riX+PVDOaMU5A8+rRfEY0u7xIQ0prfv5OccELfg+athEbu0l/Yp+VZUFvSLK5tW2LvzGev8vtlTf0hiRzX8J92D0nrlyQwpw+/6LwZ7W3XaaCxQELlmUJic/OoQoWBXW52Cn4P/yi8BAmBpuPDa/M4Q3iird3VFUl1rm/Dzz3G5gRXc73iCPmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/static/89e841656f970119064f16658e500f27/fcda8/ChannelInboundHandler-api.png\"\n        srcset=\"/static/89e841656f970119064f16658e500f27/12f09/ChannelInboundHandler-api.png 148w,\n/static/89e841656f970119064f16658e500f27/e4a3f/ChannelInboundHandler-api.png 295w,\n/static/89e841656f970119064f16658e500f27/fcda8/ChannelInboundHandler-api.png 590w,\n/static/89e841656f970119064f16658e500f27/87254/ChannelInboundHandler-api.png 604w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li><code class=\"language-text\">ChannelOutboundHandler</code>。拦截IO事件，API如下图所示：\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/da5231c3c9573a7e59451175329c7852/d72eb/ChannelOutboundHandler-api.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 587px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 87.16216216216216%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAAB00lEQVQ4y82R7U/TUBSH+99rgtFPmoxoYuIHjU4CvoAoiPL2jRlIxjboe7uOdV03Nl3L+vJ4WiJZVIgk++BJfvfcnJ773N89VTYPbaq7R1S/Nljea4parOyfsH5gsXbg8HK7ydKeKj0nvNpu8V5qa7U2z7fqvNg6prrTYrXmsvqtzfJ+C+XZrk5lo8aTzxqLH5s83jih8qFBZb3Bg7d1Ft4cc3fpiDui+++al/vXh9yT+sJKnYefDBa/ODzatHm646BQxOQH0djnzDHxLJ2OqeEaKr5rEnRsAs/GM0/LPOi2iUchaTQij8eQTCCLIZ9CGqNcJAmTwZB+2MNx2xiGheO4mKZdyrYd2l4H3TAxTAtP9pbUzvwe4/F3wlDO9geEwhiIlDTLiIdDfN9DVVV0TUcrdKqiqRqGrmNZFq5cYkt2BOa6LlEU8XvkeY6SyRIPz+WWrjiysESmbohTQ5w6JSToh/wZeQmYVZqmhcOU+HwkdnsCNEs3BdSQJxZPL6CFozAc0Ov6BEFAP+gzGo2vXBUqogQmyZSbomjNZCxpmpX5cp+W+a/AYrn6MDOLf4lffdcDb6lrnpzcytVNTkvgdDqdL3DuDmdn+L8C5/1TLqK5An8CnzgW4/EvrtEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/static/da5231c3c9573a7e59451175329c7852/d72eb/ChannelOutboundHandler-api.png\"\n        srcset=\"/static/da5231c3c9573a7e59451175329c7852/12f09/ChannelOutboundHandler-api.png 148w,\n/static/da5231c3c9573a7e59451175329c7852/e4a3f/ChannelOutboundHandler-api.png 295w,\n/static/da5231c3c9573a7e59451175329c7852/d72eb/ChannelOutboundHandler-api.png 587w\"\n        sizes=\"(max-width: 587px) 100vw, 587px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h2 id=\"eventloop\"><a href=\"#eventloop\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Eventloop</h2>","timeToRead":1,"frontmatter":{"title":"netty server","date":"October 23, 2020","spoiler":"netty channel, 源码学习"},"fields":{"slug":"/netty-server/"}}},"pageContext":{"slug":"/netty-server/","previous":{"fields":{"slug":"/flink-knowledge/","directoryName":"flink-knowledge"},"frontmatter":{"title":"flink笔记（1）"}},"next":{"fields":{"slug":"/go-assembly/","directoryName":"go-assembly"},"frontmatter":{"title":"plan9 assembly 完全解析【转】"}}}},"staticQueryHashes":["336482444"]}